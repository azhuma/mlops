docker version

docker --help
docker run --help

# запуск контейнера в интерактивном режиме
# можно взглянуть на лог
# вначале идет поиск в кэше и если не найдно то идет скачивание
# можно скачать явно командой docker pull
docker run -it python:3 bash

# можно внутри контейнера позапускать команды
pip install --upgrade pip

# привязка порта
# откроем в браузере http://localhost:8080
# убедимся что ничего не запущено

# запускаем контейнер: по умолчанию - вывод в консоль
docker run -p 8080:80 nginx

# остановим контейнер - ctrl+c

# посмотрим список контейнеров - скорее всего список пустой
docker ps

# запустим снова nginx в фоновом режиме
docker run -p 8080:80 -d --name nginx-container nginx
docker ps

# можно просмотреть более длинным вариантом команды
docker container ls

# как вы догадались команда показывает только запущенные контейнеры
# можно указать ключ чтобы увидеть все контейнеры
docker ps -a

# внимательно просмотрим вывод предыдущих команд
# обратите внимание на поля (container id - длинный/короткий, name - дефолтный/кастомный итд)

# вывод логов с фоновых контейнеров
docker logs nginx-container

# можем теперь посмотреть как это выглядит в docker desktop

# полезной командой является запуск команды внутри контейнера
docker exec nginx-container ls -l

# еще один пример деплоя
# развернем бд в контейнере
# -e настройка для переменных окружения - детально пройдем позже
# пока что понимаем что пробрасываем в контейнер пароль от бд
docker run --name postgres-container -p 5432:5432 -e POSTGRES_PASSWORD=mypwd -d postgres

# можно подключиться к бд любым клиентом типа dbeaver, datagrip итд
# подключение к http://localhost:5432, пользователь postgres

# создадим свой образ - описание в файле Dockerfile
docker build -t my-image . 

# список образов
docker images

# запустим контейнер
 docker run --rm -p 8090:5000 my-image